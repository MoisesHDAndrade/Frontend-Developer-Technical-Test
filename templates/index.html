<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="Description" content="Enter your description here"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
<link rel="stylesheet" href="{{url_for('static', filename = 'css/style.css')}}">
<title>Shop</title>
</head>
<body>
<div class="container" id="app">
    <div class="row">
       
        <div class="nav nav-cart mt-2">
            <div class="header py-1 px-3 header-background w-100">
                <div class="d-flex justify-content-end">
                    <div class="dropdown">
                        <button class="btn my-1 mx-5 text-secondary-color cart-header dropdown-toggle text-decoration-none " data-bs-toggle="dropdown" aria-expanded="false">My cart <span v-text="`(${cart.length})`"></span></button>
                      
                        <ul class="dropdown-menu dropdown-menu-start dropdown-menu-lg-end" aria-labelledby="dropdownMenuLink" style="width: 15em;">
                          <li v-for="item in cart">
                              <div class="row align-items-center justify-content-center">
                                <div class="col-6">
                                      <img class="cart-container-image p-1" :src="item.product.imageURL" alt="">
                                </div>
                                <div class="col-6">
                                      <div class="cart-container-info">
                                        <div class="cart-container-info-name">
                                            <p class="text-primary-color my-0 text-start"><span class="product-cart-quantity text-muted " style="font-size: .9em;">x[[item.quantity]]</span> [[item.product.title]] </p>
                                        </div>
                                        <div class="cart-product-size">
                                            <p class="text-muted my-0 text-start">Size:[[item.size.label]]</p>
                                        </div>
                                        <div class="cart-product-price">
                                            <p class="text-secondary-color">$[[parseFloat(item.product.price).toFixed(2)]] </p>
                                        </div>
                                        

                                    </div>
                                </div>
                              </div>
                          </li>
                         
                        </ul>
                      </div>
                    
                </div>
            </div>
        </div>
        <div class="row-alert row justify-content-center w-100 mt-1">
            <div class="alert alert-danger alert-dismissible fade" :class="alertMessage? 'show':''" role="alert">
                Please select a size before adding to cart.
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        </div>
        <div class="item-container row justify-content-center">
            <div class="col-lg-6 col-xl-6 col-md-12 col-xs-12 text-center mt-5">
                <div class="product-image-container">
                    <img :src="products.imageURL" alt="" class="img-fluid product-image">
                </div>
            </div>
            <div class="col-lg-6 col-xl-6 col-md-12 col-xs-12">
                <div class="product-info-container mt-5">
                    <div class="product-title-header">
                        <h1 class="product-title text-primary-color" v-text="products.title"></h1>
                    </div>
                    <div class="product-price-container">
                        <div class="row price mt-3">
                            <p class="mx-0 text-primary-color" v-text="`$${parseFloat(products.price).toFixed(2)}`"></p>
                        </div>
                    </div>
                    <div class="product-description-container">
                        <p class="product-description text-secondary-color" v-text="products.description"></p>
                    </div>
                    <div class="size-choice-container">
                        <div class="row">
                            <div class="col">
                                <p>Size <span class="required-star">*</span> <span class="selected-size" v-text="selectedSize.label"></span></p>
                                <div class="sizes d-flex">
                                    <div class="size-item me-2" v-for="size in products.sizeOptions" :key="size.id" @click="selectSize(size)">
                                        <p class="size-text  px-3 py-2" :class="selectedSize.id == size.id ? 'border-dark-grey':'border-light-grey'" v-text="size.label"></p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <button class="btn shadow-none btn-add-cart rounded-0" @click="addToCart()">ADD TO CART</button>
                                    </div>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.0/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.0.0-alpha.1/axios.min.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.14/vue.min.js"></script> -->
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<script src="{{url_for('static', filename='js/main.js')}}"></script>
</body>
</html>